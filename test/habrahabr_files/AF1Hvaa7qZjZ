!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t){!function(){"use strict";try{if(void 0===e)var e={};if(e.defaults={trackingHost:"tt.onthe.io",projectId:"42794",projectSignature:"18811c423b9351cc9ce420fcb6f593ee",projectCodeId:"AF1Hvaa7qZjZ",projectCodeVersion:"2",projectUniquesBySuperdomain:"0",projectVisitsBySuperdomain:"0",projectVisitsDuration:"15",projectVideosWithoutMarkup:"",holdingHash:"",holdingId:"",excludeReferrersByDomain:""},void 0===e)e={};if(e.doubleLoadingDetector=function(e,t){var i={init:function(){var i,n=e.getElementsByTagName("script"),r=0;for(i=0;i<n.length;i++)if(-1!==(n[i].getAttribute("src")||"").indexOf("raw.js/"+t.projectCodeId))return;for(i=0;i<n.length;i++)-1!==(n[i].getAttribute("src")||"").indexOf("io.js/"+t.projectCodeId)&&n[i].attributes.hasOwnProperty("data-io-loaded")&&r++;if(r)return!0;for(i=0;i<n.length;i++)-1!==(n[i].getAttribute("src")||"").indexOf("io.js/"+t.projectCodeId)&&n[i].setAttribute("data-io-loaded","")}};return i}(document,e.defaults),void 0===e)e={};if(e.helpers=function(e,t,i){var n={decodeURIrecursively:function(e){try{for(;decodeURIComponent(e)!=e;)e=decodeURIComponent(e)}catch(e){}return e},encodeURIonce:function(e){return encodeURIComponent(this.decodeURIrecursively(e))},bindOnUrlChange:function(t){var i=e.location.pathname;this.setIntervalSafe(e,function(){e.location.pathname!==i&&(i=e.location.pathname,t())},100)},bindOnElementInsertion:function(i,n,r){r||(r=t);var o=r.querySelectorAll(i);o=e.Array.prototype.slice.call(o),this.setIntervalSafe(e,function(){var t,a=r.querySelectorAll(i);for(t=0;t<a.length;t++)-1===e.Array.prototype.indexOf.call(o,a[t])&&(o.push(a[t]),n(a[t]))},1e3)},sendGetRequest:function(t){"function"==typeof e.XMLHttpRequest?this.getRemoteContent(t):(new Image).src=t},getRemoteContent:function(t,i){i||(i=function(){});var n=new e.XMLHttpRequest;n.onreadystatechange=function(){this.readyState===e.XMLHttpRequest.DONE&&(200===this.status?i(this.responseText):i(void 0))},n.open("GET",t,!0),n.send()},getEnumerableKeys:function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);return i},getDeepPropertySafe:function(e,t){for(var i=0;i<t.length;i++)e=e[t[i]];return e}};return n.getDeepPropertySafe=function(e,t){var i;try{for(i=0;i<t.length;i++)e=e[t[i]];return e}catch(e){return}},n.parseJSONSafe=function(t){try{return e.JSON.parse(t)}catch(e){return}},n.parseURL=function(e){var i=t.createElement("a");i.href=e;var n={hash:i.hash,hostname:i.hostname,host:i.host,href:i.href,origin:i.origin,pathname:i.pathname,port:i.port,protocol:i.protocol,search:i.search};return"/"!==n.pathname.charAt(0)&&(n.pathname="/"+n.pathname),n},n.messageWindow=function(e,t){e.postMessage(JSON.stringify(t),"*")},n.messageFrameWindow=function(e,t){this.messageWindow(e.contentWindow,t)},n.createObject=function(t){if("function"==typeof e.Object.create)return e.Object.create(t);function i(){}return i.prototype=t,new i},n.cloneObjectShallow=function(t){return e.JSON.parse(e.JSON.stringify(t))},n.identifyArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},n.setIntervalSafe=function(e,t,i){return e.setInterval(function(){try{t.apply(null,arguments)}catch(e){this.trackErrorMetric(e)}}.bind(this),i)},n.addEventListenerSafe=function(e,t,i){var n=function(){try{i.apply(null,arguments)}catch(e){this.trackErrorMetric(e)}}.bind(this);return e.addEventListener(t,n),n},n.trackErrorMetric=function(i,n){n=n||"error_script";var r={title:"string"==typeof i?i:i.message+"\n\n"+i.stack,href:e.location.href,url:e.location.pathname,page:t.title,domain:e.location.hostname,user_agent:e.navigator.userAgent,referrer_uri:t.referrer};this.sendMetric(n,r)},n.getMetricParamString=function(t,n,r){r||(r=i.projectId),(n=this.cloneObjectShallow(n)).cdn_version=i.projectCodeVersion;var o=[];for(var a in n)""!==n[a]&&n.hasOwnProperty(a)&&o.push(a+":"+this.encodeURIonce(n[a]));var s=t+"["+o.join()+"]";return"/?k[]="+r+":"+(s=s.replace(/\\x([0-9A-Fa-f]{2})/g,function(){return String.fromCharCode(e.parseInt(arguments[1],16))}))},n.deferMetricToSendInBatch=function(t,n,r){if(this.identifyArray(this.deferMetricToSendInBatch.metrics)||(this.deferMetricToSendInBatch.metrics=[]),this.deferMetricToSendInBatch.metrics.push(this.getMetricParamString(t,n)),!this.deferMetricToSendInBatch.intervalIsSet){this.deferMetricToSendInBatch.intervalIsSet=!0;var o=this.setIntervalSafe(e,function(){if(0===this.deferMetricToSendInBatch.metrics.length)return this.deferMetricToSendInBatch.intervalIsSet=!1,void e.clearInterval(o);for(var t="";this.deferMetricToSendInBatch.metrics.length&&(t+this.deferMetricToSendInBatch.metrics[0]).length<6e3;)t+="&"+this.deferMetricToSendInBatch.metrics.shift();var n="https://"+i.trackingHost+"/"+t+"&s="+i.projectSignature+(r?"&__io="+this.getUserId():"")+"&"+Date.now();this.sendGetRequest(n)}.bind(this),1e3)}},n.sendMetric=function(e,t,n,r,o){var a="https://"+i.trackingHost+this.getMetricParamString(e,t,o||null)+"&s="+i.projectSignature+(n?"&_v="+n:"")+(r?"&__io="+this.getUserId():"")+"&"+Date.now();this.sendGetRequest(a)},n.hashFnv32a=function(e,t,i){var n,r,o=void 0===i?2166136261:i;for(n=0,r=e.length;n<r;n++)o^=e.charCodeAt(n),o+=(o<<1)+(o<<4)+(o<<7)+(o<<8)+(o<<24);return t?("0000000"+(o>>>0).toString(16)).substr(-8):o>>>0},n.getStorageStatus=function(){try{return e.sessionStorage.setItem("test","1"),e.sessionStorage.removeItem("test"),!0}catch(e){return!1}},n.setPreviousURI=function(t){if(this.getStorageStatus()){var i=this.parseJSONSafe(e.sessionStorage.getItem("__io_nav_state"))||{};e.sessionStorage.setItem("__io_nav_state",JSON.stringify({current:t,previous:i.current}))}},n.getPreviousURI=function(){if(this.getStorageStatus()){var t=this.parseJSONSafe(e.sessionStorage.getItem("__io_nav_state"))||{};return t.previous&&t.previous!==t.current?t.previous:void 0}},n.getPreviousPageTitle=function(){if(this.getStorageStatus()){var i,n,r=t.title;if(i=e.sessionStorage.getItem("__io_previous_page_title"),n=e.sessionStorage.getItem("__io_previous_page_title_bak"),i===r){if(n)return n}else if(e.sessionStorage.setItem("__io_previous_page_title",r),i)return e.sessionStorage.setItem("__io_previous_page_title_bak",i),i}},n.getSearchParam=function(t,i){var n=(i?this.parseURL(i).search:e.location.search).match("[?&]"+t+"=([^(&?)]*)");return n?n[n.length-1]:""},n.getCookieValue=function(e){var i=t.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return i?this.decodeURIrecursively(i[i.length-1]):""},n.setCookie=function(e,i,n,r,o,a){var s=new Date;s.setYear(s.getFullYear()+1),s=s.toUTCString(),n||(n=s),r||(r="/"),i&&(i=encodeURIComponent(i));var c=e+"="+(i||"")+"; expires="+n+"; path="+r+(o?"; domain="+o:"")+(a?"; secure":"");t.cookie=c},n.deleteCookie=function(e,t,i){this.setCookie(e,null,"Thu, 01 Jan 1970 00:00:01 GMT",t,i)},n.getDepth=function(){var t=new Date((new Date).getTime()+9e5).toUTCString(),i=this.hashFnv32a(e.location.pathname),n=this.getCookieValue("__io_d");if(!n||2!==n.split("_").length)return this.setCookie("__io_d","1_"+i,t),1;var r=n.split("_")[1],o=e.parseInt(n.split("_")[0],10);if(i==r)return o||1;var a=(o||0)+1;return this.setCookie("__io_d",a+"_"+i,t),a},n.getUserId=function(){var e=this.getCookieValue("__io");return e||(e=Math.floor(68719476736*(1+Math.random())).toString(16).substring(1)+"."+Math.floor(68719476736*(1+Math.random())).toString(16).substring(1)+"_"+Date.now()),this.setCookie("__io",e),e},n.getReferrer=function(r){var o=function(){var o=r||t.referrer;o||(o=n.getCookieValue("__io_r"));var a=n.getSearchParam("utm_source");"mail"==a?o="mail":a&&""==o&&(o=a);var s=n.getSearchParam("io_utm_social");if(s&&(o=s),location.search.indexOf("utm_referrer=https%3A%2F%2Fzen.yandex.com")>-1||location.search.indexOf("utm_referrer=https%3A%2F%2Fzen.yandex.ru")>-1||"zen.yandex.ru"===o)return"yandex_zen";if("?f"==location.search)return"facebook_group";var c=["liqpay","privatbank","PayParts","portmone","paymaster"];for(var l in c)if(o.indexOf(c[l])>-1)return"direct";var d=o.indexOf(location.hostname)>0&&o.indexOf(location.hostname)<10;if(new RegExp("^(www.)?"+e.location.hostname.replace(/^www\./,"")).test(n.parseURL(o).hostname)&&(d=!0),""!==i.excludeReferrersByDomain&&new RegExp(i.excludeReferrersByDomain+"$").test(n.parseURL(o).hostname)&&(d=!0),d||n.setCookie("__io_r",o,null,null,e.location.hostname.replace(/^www\./,"")),d&&!r){var u=n.getCookieValue("__io_r");if(!u)return"direct";o=u}return-1!==(o=o.replace("www.","")).indexOf("/")&&(o=o.split("/")[2]),-1!==(o=-1===(o=o.replace(/\.$/,"")).indexOf("plus.google.")?o.replace(/google\.[a-z]+(\.[a-z]+)?/,"google"):o.replace(/google(\.[a-z]+)?(\.[a-z]+)?/i,"google")).indexOf("plus.url.google")&&(o="google.plus"),-1!==(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=o.replace(/([m|mobile|web|mbasic|touch]\.)?facebook\.com/,"facebook")).replace(/facebook/i,"facebook")).replace(/fb\.me/,"facebook")).replace(/^fb$/,"facebook")).replace(/(m\.)?vk\.com/,"vk.com")).replace(/vkontakte\.ru/,"vk.com")).replace(/^vk$/,"vk.com")).replace(/([a-z_]+).vk.com/,"vk.com")).replace(/^t\.co/,"twitter")).replace(/clck\.yandex\.ru/,"yandex.ru")).replace(/yandex\.[a-z]+(\.[a-z]+)?/,"yandex.ru")).replace(/m\.ok\.ru/,"ok.ru")).replace(/l\.facebook/,"facebook")).replace(/lfacebook/,"facebook")).replace(/mobifacebook/,"facebook")).replace(/wefacebook/,"facebook")).replace(/twitter.com/,"twitter")).replace(/com.google/,"google")).replace(/Google/,"google")).replace(/([a-z_]+).yahoo.com/,"yahoo.com")).replace(/([a-z_]+).bing.com/,"bing.com")).replace(/([a-z_]+).baidu.com/,"baidu.com")).replace(/m\.news\.yandex/,"news.yandex")).replace(/googleads\.g\.doubleclick\.net/,"doubleclick.net")).replace(/(.*)\.directadvert\.ru/,"directadvert.ru")).indexOf("news")&&-1!==o.indexOf("yandex")&&(o="news.yandex.ru"),o=(o=(o=o.replace(/duckduckgo\.com/i,"duckduckgo")).replace(/ecosia\.org/i,"ecosia")).replace(/[:,]/g,"_")}();return this.getCookieValue("__io_first_source")||this.setCookie("__io_first_source",o,null,null,e.location.hostname.replace(/^www\./,"")),o},n.getDeviceName=function(){var t=e.navigator.userAgent||"undefined",i="desktop",n=/Android|webOS|iPhone|PlayBook|iPad|iPod|IEMobile|BlackBerry|Mobile|Opera Mini/i.test(t),r=/Tablet|PlayBook|iPad/i.test(t)||/Android/i.test(t)&&!/Mobile/i.test(t)&&!/Opera Mini/i.test(t),o=/Android/i.test(t),a=/iPhone|iPad|iPod/i.test(t);return n&&(r?(i="tablet",i+=o?" (Android)":a?" (iOS)":" (Other)"):(i="smart",i+=o?" (Android)":a?" (iOS)":" (Other)")),i},n.getBrowserNameAndVersion=function(){var t,i,n=e.navigator.userAgent,r="";switch(!0){case-1!==(t=n.indexOf("OPR/")):r=n.substring(t+4);break;case-1!==(t=n.indexOf("Opera"))&&-1!==(t=n.indexOf("Version")):r=n.substring(t+8);break;case-1!==(t=n.indexOf("Opera")):r=n.substring(t+6);break;case-1!==(t=n.indexOf("MSIE")):r=n.substring(t+5);break;case-1!==(t=n.indexOf("Chrome")):r=n.substring(t+7);break;case-1!==(t=n.indexOf("Safari"))&&-1!==(t=n.indexOf("Version")):r=n.substring(t+8);break;case-1!==(t=n.indexOf("Safari")):r=n.substring(t+7);break;case-1!==(t=n.indexOf("Firefox")):r=n.substring(t+8);break;case-1!==n.indexOf("Trident")&&-1!==(t=n.indexOf("rv:")):r=n.substring(t+3).split(")")[0];break;case(t=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/")):r=n.substring(t+1)}return r=r.split(";")[0].split(" ")[0],i=(i=e.parseInt(r,10))||"(unknown version)",this.getBrowserName()+" "+i},n.getUserLifeTime=function(){var e=t.cookie.match(/__io=([^;]+)/);return e?(e=e[1].split("_")[1],(e=Math.round((+Date.now()-e)/864e5))<0&&(e=0),0==e?e="0":e<7?e+="d":e=e<30?Math.round(e/7)+"w":Math.round(e/30)+"m",e):"0"},n.getUserLifeTimeNumber=function(){var e=t.cookie.match(/__io_lv=([^;]+)/);return e?(e=e[1],e=Math.round((+Date.now()-e)/864e5)):"0"},n.getUserType=function(){var e="";if(-1==t.cookie.indexOf("__io=")){(n=new Date).setYear(n.getFullYear()+1);var i=Math.floor(68719476736*(1+Math.random())).toString(16).substring(1)+"."+Math.floor(68719476736*(1+Math.random())).toString(16).substring(1);t.cookie="__io="+i+"_"+ +Date.now()+"; expires="+n.toUTCString()+"; path=/"}else{(n=new Date).setYear(n.getFullYear()+1),t.cookie="__io="+(void 0!==this.getCookieValue("__io")?this.getCookieValue("__io")+"; expires="+n.toUTCString()+"; path=/":"")}if(-1==t.cookie.indexOf("__io_lv="))e="new",(n=new Date).setYear(n.getFullYear()+1),t.cookie="__io_lv="+ +Date.now()+"; expires="+n.toUTCString()+"; path=/";else if(0==this.getUserLifeTime())e="new";else{var n,r=1*this.getUserLifeTimeNumber();e=r>30?"new":r>7?"returned":"constant",(n=new Date).setYear(n.getFullYear()+1),t.cookie="__io_lv="+ +Date.now()+"; expires="+n.toUTCString()+"; path=/"}return e},n.getBrowserName=function(){var i,n="",r=!!e.opr&&!!e.opr.addons||!!e.opera||-1!==e.navigator.userAgent.indexOf(" OPR/"),o="undefined"!=typeof InstallTrigger,a=/constructor/i.test(e.HTMLElement)||"[object SafariRemoteNotification]"===(!e.safari||void 0!==e.safari&&e.safari.pushNotification).toString(),s=!!t.documentMode,c=[{name:"Opera",isCurrent:r},{name:"Firefox",isCurrent:o},{name:"Safari",isCurrent:a},{name:"IE",isCurrent:s},{name:"Edge",isCurrent:!s&&!!e.StyleMedia},{name:"Chrome",isCurrent:!!e.chrome&&!!e.chrome.webstore},{name:"Opera Mini",isCurrent:"[object OperaMini]"===Object.prototype.toString.call(e.operamini)}];for(i=0;i<c.length;i++)c[i].isCurrent&&(n?n+=" ("+c[i].name+")":n=c[i].name);return n||"Other"},n.getReferenceTimeFromWordsCount=function(t){return Math.round(e.parseInt(t,10)/(190/60))},n.getReferenceTimeFromBlock=function(e){var i=t.querySelector(e);if(i){for(var n=i.cloneNode(!0),r=n.querySelectorAll("script, style, noscript, video"),o=0;o<r.length;o++)r[o].remove?r[o].remove():r[o].parentNode.removeChild(r[o]);var a=n.textContent.trim().replace(/[,:;()\/&+]|\-\-/g," ").replace(/[\.!?]/g,".").replace(/^\s+/,"").replace(/[ ]*(\n|\r\n|\r)[ ]*/g,".").replace(/([\.])[\.]+/g,".").replace(/[ ]*([\.])/g,". ").replace(/\s+/g," ").replace(/\s+$/,"").replace(/\n /,"\n").split(" ").length||1;return this.getReferenceTimeFromWordsCount(a)}},n.getSortedSemver=function(t){return t.sort(function(t,i){var n,r,o=/(\.0+)+$/,a=t.replace(o,"").split("."),s=i.replace(o,"").split("."),c=Math.min(a.length,s.length);for(n=0;n<c;n++)if(r=e.parseInt(a[n],10)-e.parseInt(s[n],10))return r;return a.length-s.length})},n.injectScriptBySrc=function(e,i){var n=t.getElementsByTagName("script")[0],r=t.createElement("script");r.id=i,r.async=!0,r.src=e,n.parentNode.insertBefore(r,n)},n.loadComponentAsync=function(e){try{e.init()}catch(e){this.trackErrorMetric(e)}},n}(window,document,e.defaults),void 0===e)e={};if(e.rawCodeLoader=function(e,t,i){var n={init:function(){if(-1!==document.cookie.indexOf("__io_raw=1")&&!document.getElementById("io-rawjs"))return e.IO=void 0,i.injectScriptBySrc("https://platform.onthe.io/raw.js/"+t.projectCodeId,"io-rawjs"),!0}};return n}(window,e.defaults,e.helpers),void 0===e)e={};if(e.configParser=function(e,t,i){var n={appendDefaultSlices:function(t,n,r){e.navigator.userAgent&&(t.user_agent=e.navigator.userAgent);var o=i.getPreviousURI();if(o&&("/"===o?t.previous_page="Main Page":t.pr=o),i.decodeURIrecursively(t.url)!==i.decodeURIrecursively(e.location.pathname)&&(t.url_real=e.location.pathname),t.device=i.getDeviceName(),t.browser_version=i.getBrowserNameAndVersion(),t.browser=i.getBrowserName(),t.referrer=i.getReferrer(),t.depth=i.getDepth(),t.user_type=i.getUserType(),!t.reference_time){var a=i.getReferenceTimeFromBlock('[data-io-article-url="'+n+'"]');a&&(t.reference_time=a)}t.user_id=i.getUserId(),t.first_source=i.getCookieValue("__io_first_source")||i.getReferrer()},getSlicesFromPageDescriptor:function(e){var t,n,r,o={};for(t in e)if(e.hasOwnProperty(t)&&(n=e[t])&&(n=i.identifyArray(n)?n.join("|").trim():String(n).trim()))switch(t){case"page_url":o.url||(r=i.parseURL(n),o.domain=r.hostname,o.url=r.pathname);break;case"page_url_canonical":if("main"===e.page_type)break;r=i.parseURL(n),o.domain=r.hostname,o.url=r.pathname+r.search;break;case"page_title":o.page=n;break;case"page_type":"article"!==n||o.author||(o.author="No Author"),"main"===n&&(o.url="/");break;case"page_language":o.language=n;break;case"article_authors":"article"===e.page_type&&(o.author=n);break;case"article_categories":o.category=n;break;case"article_subcategories":o.sub_category=n;break;case"article_type":o.type_article=n;break;case"article_word_count":o.reference_time=i.getReferenceTimeFromWordsCount(n);break;case"article_publication_date":o.pub_date=n;break;default:o[t]=n}return o},getLatestConfig:function(){if("[object Object]"===String(e._io_config)){var t=i.getSortedSemver(i.getEnumerableKeys(e._io_config)).pop();return e._io_config[t]}}},r={init:function(e){return this.data=e,this},testForRequiredFields:function(){if(r.errorTrackedOnce)return!0;var e,t=[],n=["page_url","page_title","page_type","page_language"];for(e=0;e<n.length;e++)this.data[n[e]]||t.push(n[e]+" config entity is required");return 0!==t.length?(i.trackErrorMetric("Config Validation Errors: "+t.join(", "),"error_config"),r.errorTrackedOnce=!0,t):void 0},getSlices:function(){var e=n.getSlicesFromPageDescriptor(this.data);return n.appendDefaultSlices(e,this.data.page_url,e.url),e}};return n.PageDescriptor=r,n.getPageDescriptor=function(t){var n=this.getLatestConfig();if(n){var o,a,s=t?i.parseURL(t).pathname:e.location.pathname;"/"!==(s=i.decodeURIrecursively(s)).slice(-1)&&(s+="/");for(var c=n.length;c--;)if((o=n[c]).page_url&&(a=i.parseURL(o.page_url).pathname,"/"!==(a=i.decodeURIrecursively(a)).slice(-1)&&(a+="/"),a===s))return i.createObject(r).init(o)}},n.bindOnPageDescriptorAppearance=function(t,n){var r=i.setIntervalSafe(e,function(){var i=this.getPageDescriptor(t);i&&(i.testForRequiredFields()||(e.clearInterval(r),n(i)))}.bind(this),10)},n}(window,document,e.helpers),void 0===e)e={};if(e.uniqueTracker=function(e,t,i,n){var r={init:function(){n.bindOnPageDescriptorAppearance(e.location.href,function(n){var r="__io_unique_"+t.projectId,o=document.cookie.match(new RegExp(r+"=([^;]+)"));if(-1==document.cookie.indexOf(r+"=")||o&&o[1]&&o[1]!=(new Date).getDate()){var a=new Date((new Date).setYear((new Date).getFullYear()+1)).toUTCString(),s=r+"="+(new Date).getDate()+"; expires="+a+"; path=/";e.parseInt(t.projectUniquesBySuperdomain,10)&&(s+=";domain=."+e.location.hostname.replace(/^www\./,"")),document.cookie=s,i.sendMetric("uniques_instantly",n.getSlices())}})}};return r}(window,e.defaults,e.helpers,e.configParser),void 0===e)e={};if(e.holdingUniqueTracker=function(e,t,i){var n={setStateCookie:function(i){var n=i+"=1; expires="+new Date((new Date).setHours(24,0,0,0)).toUTCString()+"; path=/";e.parseInt(t.projectUniquesBySuperdomain,10)&&(n+=";domain=."+e.location.hostname.replace(/^www\./,"")),document.cookie=n},sendHoldingMetric:function(e){var n="https://"+t.trackingHost+"/?k[]="+t.holdingId+":uniques_holding&s="+t.projectSignature+"&__io="+(e||i.getUserId())+"&"+Date.now();i.sendGetRequest(n)},init:function(){if(t.holdingHash&&t.holdingId&&-1===document.cookie.indexOf("__io_uh")&&(this.setStateCookie("__io_uh"),!document.getElementById("io-holdingjs"))){var n="https://"+t.trackingHost+"/uniques/?current="+(new Date).getDate()+"&holding="+t.holdingHash+"&hash_user="+i.getUserId()+"&"+Date.now();i.injectScriptBySrc(n,"io-holdingjs");var r=i.setIntervalSafe(e,function(){if(void 0!==e._io_uniques_holing_params){if(e.clearInterval(r),"track"===e._io_uniques_holing_params)return this.sendHoldingMetric();var i=e._io_uniques_holing_params.match(new RegExp("(?:^|; )"+("io_uid"+t.holdingHash).replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")),n=e._io_uniques_holing_params.match(new RegExp("(?:^|; )"+"io_user_hash".replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));(i&&i[1]&&i[1]!=(new Date).getDate()||!i)&&this.sendHoldingMetric(n[1])}}.bind(this),250)}}};return n}(window,e.defaults,e.helpers),void 0===e)e={};if(e.visitTracker=function(e,t,i,n){var r={init:function(){var r="__io_visit_"+i.projectId;n.bindOnPageDescriptorAppearance(e.location.href,function(n){if(-1===document.cookie.indexOf(r)){var o=e.parseInt(i.projectVisitsDuration,10),a=r+"=1; expires="+new Date((new Date).getTime()+60*o*1e3).toUTCString()+";  path=/";e.parseInt(i.projectVisitsBySuperdomain,10)&&(a+=";domain=."+e.location.hostname.replace(/^www\./,"")),document.cookie=a,t.sendMetric("visits_instantly",n.getSlices(),null,!0)}})}};return r}(window,e.helpers,e.defaults,e.configParser),void 0===e)e={};if(e.viewTracker=function(e,t,i){var n={listenForConfigAndPageMatchOnce:function(){i.bindOnPageDescriptorAppearance(e.location.href,function(e){var i=e.getSlices();t.sendMetric("pageviews",i)}.bind(this))},listenForPageChnages:function(){t.bindOnUrlChange(this.listenForConfigAndPageMatchOnce.bind(this))},init:function(){this.listenForConfigAndPageMatchOnce(),this.listenForPageChnages()}};return n}(window,e.helpers,e.configParser),void 0===e)e={};if(e.readabilityTracker=function(e,t,i,n){var r={getScrollPercent:function(){var t=this.element.getBoundingClientRect().bottom-this.element.getBoundingClientRect().top;if(!t)return 0;var i=(e.innerHeight-this.element.getBoundingClientRect().bottom)/t,n=i>0?0:i<-1?-1:i;return n=100-Math.abs(Math.floor(100*n)),Math.abs(n)},sendMetric:function(e){n.bindOnPageDescriptorAppearance(this.url,function(t){i.sendMetric(e,t.getSlices())})},tryToTrackReadabilityAndUnbind25:function(){this.getScrollPercent()<=25||(t.removeEventListener("scroll",this.boundHandles.tryToTrackReadabilityAndUnbind25),this.sendMetric("read_top"))},tryToTrackReadabilityAndUnbind50:function(){this.getScrollPercent()<=50||(t.removeEventListener("scroll",this.boundHandles.tryToTrackReadabilityAndUnbind50),this.sendMetric("read_middle"))},tryToTrackReadabilityAndUnbind75:function(){this.getScrollPercent()<=75||(t.removeEventListener("scroll",this.boundHandles.tryToTrackReadabilityAndUnbind75),this.sendMetric("read_bottom"))},tryToTrackReadabilityAndUnbind95:function(){this.getScrollPercent()<=95||(t.removeEventListener("scroll",this.boundHandles.tryToTrackReadabilityAndUnbind95),this.sendMetric("read_finished"))},bindEvents:function(){this.boundHandles={},this.boundHandles.tryToTrackReadabilityAndUnbind25=i.addEventListenerSafe(t,"scroll",this.tryToTrackReadabilityAndUnbind25.bind(this)),this.boundHandles.tryToTrackReadabilityAndUnbind50=i.addEventListenerSafe(t,"scroll",this.tryToTrackReadabilityAndUnbind50.bind(this)),this.boundHandles.tryToTrackReadabilityAndUnbind75=i.addEventListenerSafe(t,"scroll",this.tryToTrackReadabilityAndUnbind75.bind(this)),this.boundHandles.tryToTrackReadabilityAndUnbind95=i.addEventListenerSafe(t,"scroll",this.tryToTrackReadabilityAndUnbind95.bind(this))},init:function(e){this.element=e,this.url=e.getAttribute("data-io-article-url"),this.bindEvents()}},o={trackExistingArticles:function(){var e,n,o=t.querySelectorAll("[data-io-article-url]");for(e=0;e<o.length;e++)(n=i.createObject(r)).init(o[e]),this.instances.push(n)},listenForNewArticles:function(){i.bindOnElementInsertion("[data-io-article-url]",function(e){var t=i.createObject(r);t.init(e),this.instances.push(t)}.bind(this))},init:function(){this.instances=this.instances||[],this.trackExistingArticles(),this.listenForNewArticles()}};return{init:function(){o.init()},ArticleReadabilityTracker:o,ArticleToRead:r}}(window,document,e.helpers,e.configParser),void 0===e)e={};if(e.timeTracker=function(e,t,i,n){var r={init:function(){i.setIntervalSafe(e,function(){("function"!=typeof t.hasFocus||t.hasFocus())&&(t.hidden||n.bindOnPageDescriptorAppearance(e.location.href,function(e){var t=e.getSlices();t.url&&i.sendMetric("time",{url:t.url})}))},1e4)}};return r}(window,document,e.helpers,e.configParser),void 0===e)e={};if(e.videoTracker=function(t,i,n,r,o){var a={sendMetricWithMergedSlices:function(i){if(n.top!==n&&!n._io_config&&"embed"===e.helpers.getSearchParam("io_page_type")){var o=e.helpers.getSearchParam("io_app_id");if(!o)return;var a=e.helpers.cloneObjectShallow(this.slices);e.configParser.appendDefaultSlices(a);var s=e.helpers.getSearchParam("io_canonical_url");s=e.helpers.decodeURIrecursively(s),s=e.helpers.parseURL(s),a.domain=s.hostname,a.url=s.pathname+s.search;var c=e.helpers.getSearchParam("io_referrer");try{c||(c=n.top.document.referrer)}catch(e){}return a.referrer=c?t.getReferrer(c):void 0,void e.helpers.sendMetric(i,a,null,null,o)}n.top===n||n._io_config?r.bindOnPageDescriptorAppearance(this.instantiationUrl,function(e){var n,r=e.getSlices();for(n in this.slices)this.slices.hasOwnProperty(n)&&(r[n]=this.slices[n]);t.sendMetric(i,r)}.bind(this)):t.messageWindow(n.top,{event:"ioMetricSent",info:{name:i,slices:this.slices}})},trackView:function(){this.sendMetricWithMergedSlices("video_view")},trackStart:function(){this.sendMetricWithMergedSlices("video_started")},trackFinish:function(){this.sendMetricWithMergedSlices("video_watch_finished")},trackLeave:function(){this.sendMetricWithMergedSlices("video_left")},setSliceVideoId:function(e){var i=t.parseURL(e);this.slices.video_id=i.hostname+i.pathname},instantiate:function(e){this.element=e,this.slices={title:i.title,type:"default",reference_time:0,time_int:0},this.instantiationUrl=n.location.href,this.setSliceVideoId(n.location.href)}},s=t.createObject(a);s.instantiateFrame=function(e){this.instantiate(e),this.element.src&&this.setSliceVideoId(this.element.src)};var c={trackExistingVideos:function(){var e,i,n=this.containerElement.querySelectorAll(this.elementSelector);for(e=0;e<n.length;e++)(i=t.createObject(this.instancePrototype)).elementSelector=this.elementSelector,i.init(n[e]),this.instances.push(i)},listenForNewVideos:function(){t.bindOnElementInsertion(this.elementSelector,function(e){var i=t.createObject(this.instancePrototype);i.elementSelector=this.elementSelector,i.init(e),this.instances.push(i)}.bind(this),this.containerElement)},initializeStructure:function(e,t,n){this.instancePrototype=t,this.elementSelector=e,this.containerElement=n||i,this.instances=this.instances||[]},startTracking:function(){this.trackExistingVideos(),this.listenForNewVideos()}},l=t.createObject(a);l.bindEvents=function(){this.boundHandles={},this.boundHandles.trackStartAndUnbind=t.addEventListenerSafe(this.element,"play",this.trackStartAndUnbind.bind(this)),this.boundHandles.trackFinishAndUnbind=t.addEventListenerSafe(this.element,"ended",this.trackFinishAndUnbind.bind(this)),this.boundHandles.trackLeaveAndUnbind=t.addEventListenerSafe(n,"beforeunload",this.trackLeaveAndUnbind.bind(this))},l.trackStartAndUnbind=function(){this.element.removeEventListener("play",this.boundHandles.trackStartAndUnbind),this.setSlicesTime(),this.trackStart()},l.trackFinishAndUnbind=function(){this.setSlicesTime(),this.trackFinish(),this.trackLeave(),this.element.removeEventListener("ended",this.boundHandles.trackFinishAndUnbind),n.removeEventListener("beforeunload",this.boundHandles.trackLeaveAndUnbind)},l.trackLeaveAndUnbind=function(){this.setSlicesTime(),this.trackLeave(),n.removeEventListener("beforeunload",this.boundHandles.trackLeaveAndUnbind)},l.setSlicesIfJwPlayer=function(){if("function"==typeof jwplayer&&"function"==typeof jwplayer().getContainer&&"function"==typeof jwplayer().getContainer().querySelector&&jwplayer().getContainer().querySelector(this.elementSelector)==this.element){this.slices.type="jwplayer";var e="string"!=typeof jwplayer.version||jwplayer.version[0]>6,i=t.getDeepPropertySafe(jwplayer(),["config","image"]);if(e){this.setSlicesTime=function(){this.slices.reference_time=t.getDeepPropertySafe(jwplayer().getConfig(),["playlistItem","duration"])||0,this.slices.time_int=t.getDeepPropertySafe(jwplayer().getConfig(),["position"])||0};var n=t.getDeepPropertySafe(jwplayer().getConfig(),["playlistItem","mediaid"])||t.getDeepPropertySafe(jwplayer().getConfig(),["playlistItem","sources","0","file"]);n&&(this.slices.video_id=n),i=t.getDeepPropertySafe(jwplayer().getConfig(),["playlistItem","images","0"])||t.getDeepPropertySafe(jwplayer().getConfig(),["playlistItem","image"])||t.getDeepPropertySafe(jwplayer().getConfig(),["image"]);var r=t.getDeepPropertySafe(jwplayer().getConfig(),["playlistItem","title"]);r&&(this.slices.title=r)}i&&(this.slices.image=i.split("//").pop())}},l.setSlicesTime=function(){this.slices.reference_time=this.element.readyState?this.element.duration:0,this.slices.time_int=this.element.readyState?this.element.currentTime:0},l.findAndSetSliceURL=function(){var e=(this.element.getElementsByTagName("source")[0]||{}).src||this.element.src;e&&(0===e.indexOf("blob:")&&(e=e.substring(5)),this.setSliceVideoId(e))},l.setImage=function(){var e=this.element.poster;e&&(this.slices.image=e.split("://").pop())},l.setTitle=function(){var e=this.element.getAttribute("data-io-video-title");e&&(this.slices.title=e)},l.init=function(e){this.instantiate(e),this.slices.type="html5",this.findAndSetSliceURL(),this.setSlicesTime(),this.setImage(),this.setTitle(),this.setSlicesIfJwPlayer(),this.trackView(),this.bindEvents()};var d=t.createObject(c);d.trackExistingVideos=function(e){this.usedElements||(this.usedElements=[]);var i,n,r,o=e||this.containerElement.querySelectorAll(this.elementSelector),a=[];for(n=0;n<o.length;n++){for(i=o[n];i&&"VIDEO"!==i.nodeName;)i=i.parentElement;"VIDEO"===i.nodeName&&-1===a.indexOf(i)&&a.push(i)}for(n=0;n<a.length;n++)-1===this.usedElements.indexOf(a[n])&&(this.usedElements.push(a[n]),(r=t.createObject(this.instancePrototype)).elementSelector=this.elementSelector,r.init(a[n]),this.instances.push(r))},d.listenForNewVideos=function(){t.bindOnElementInsertion(this.elementSelector,function(e){this.trackExistingVideos([e])}.bind(this),this.containerElement)},d.setVideoSelector=function(){var e;e=o.projectVideosWithoutMarkup?"video[src], video source":"video[data-io-video-title][src], video[data-io-video-title] source",this.selector=e},d.prepare=function(){this.setVideoSelector(),this.initializeStructure(this.selector,l)},d.start=function(){this.startTracking()};var u=t.createObject(s);u.prepareFrameElement=function(){var e=-1!==this.element.src.indexOf("enablejsapi=1"),i=-1!==this.element.src.indexOf("origin=");if(e&&i)this.element.dispatchEvent(new Event("ioVideoFrameIsReady"));else{t.addEventListenerSafe(this.element,"load",function(){this.element.dispatchEvent(new Event("ioVideoFrameIsReady"))}.bind(this));var r=t.parseURL(this.element.src),o=r.protocol+"//"+r.host+r.pathname+(r.search?r.search:"?")+(e?"":"&enablejsapi=1")+(i?"":"&origin="+t.encodeURIonce(n.location.origin))+(r.hash?"#"+r.hash:"");this.element.src=o}},u.requestMessages=function(){t.messageFrameWindow(this.element,{event:"listening",id:this.playerId,channel:"widget"}),this.element.removeEventListener("ioVideoFrameIsReady",this.boundHandles.requestMessages)},u.processMessages=function(e){if(-1!==e.origin.indexOf("//www.youtube.com")){var i=t.parseJSONSafe(e.data)||{},r=i.info||{},o=t.getDeepPropertySafe(i,["info","videoData","video_id"]),a=i.id||o,s=t.getDeepPropertySafe(i,["info","videoData","title"]);String(a)===this.playerId&&(r.duration&&(this.slices.reference_time=r.duration),r.currentTime&&(this.slices.time_int=r.currentTime),s&&(this.slices.title=s),o&&(this.slices.video_id=o,this.slices.image="img.youtube.com/vi/"+o+"/0.jpg"),this.slices.title&&this.slices.video_id&&(this.state.viewed||(this.state.viewed=!0,this.trackView()),this.state.started||1!=r.playerState||(this.state.started=!0,this.trackStart()),!this.state.finished&&r.currentTime&&r.currentTime==r.duration&&(this.state.finished=!0,this.trackFinish(),this.trackLeave(),n.removeEventListener("beforeunload",this.boundHandles.trackLeave),n.removeEventListener("message",this.boundHandles.processMessages))))}},u.bindEvents=function(){this.boundHandles={},this.boundHandles.requestMessages=t.addEventListenerSafe(this.element,"ioVideoFrameIsReady",this.requestMessages.bind(this)),this.boundHandles.processMessages=t.addEventListenerSafe(n,"message",this.processMessages.bind(this)),this.boundHandles.trackLeave=t.addEventListenerSafe(n,"beforeunload",this.trackLeave.bind(this))},u.setPlayerId=function(){var e=(this.element.src.match(/^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=))([^#\&\?]*).*/)||[])[1],i=t.getSearchParam("widgetid",this.element.src);this.playerId=i||e},u.init=function(e){this.instantiateFrame(e),this.state={started:!1,finished:!1,viewed:!1},this.setPlayerId(),this.playerId&&(this.slices.type="youtube",this.slices.title="",this.bindEvents(),this.prepareFrameElement())};var h=t.createObject(c);h.prepare=function(){this.initializeStructure('iframe[src*="//www.youtube.com/embed"]',u)},h.start=function(){this.startTracking()};var f=t.createObject(s);f.requestMessages=function(){t.messageFrameWindow(this.element,{method:"getVideoTitle"}),t.messageFrameWindow(this.element,{method:"getDuration"}),t.messageFrameWindow(this.element,{method:"addEventListener",value:"playProgress"}),this.element.removeEventListener("ioVideoFrameIsReady",this.boundHandles.requestMessages)},f.prepareFrameElement=function(){if(-1!=this.element.src.indexOf("player_id="))return this.element.dispatchEvent(new Event("ioVideoFrameIsReady")),void(this.playerId=this.element.src.split("player_id=")[1].split("&")[0].split("#")[0]);t.addEventListenerSafe(this.element,"load",function(){this.element.dispatchEvent(new Event("ioVideoFrameIsReady"))}.bind(this));var e=this.element.src.split("?")[0].split("#")[0],i=this.element.src.split("?")[1];this.playerId=Math.floor(1e10*Math.random()),this.element.src=e+"?player_id="+this.playerId+(i?"&"+i:"")},f.processMessages=function(e){if(-1!=e.origin.indexOf("//player.vimeo.com")){var i=t.parseJSONSafe(e.data);i&&i.player_id==this.playerId&&("getVideoTitle"===i.method&&i.value&&(this.slices.title=i.value),"getDuration"===i.method&&i.value&&(this.slices.reference_time=i.value),!this.state.viewed&&this.slices.reference_time&&(this.state.viewed=!0,this.trackView()),"playProgress"===i.event&&i.data&&(this.slices.reference_time=i.data.duration||0,this.slices.time_int=i.data.seconds||0,this.state.started||(this.state.started=!0,this.trackStart()),this.state.finished||i.data.duration!==i.data.seconds||(this.state.finished=!0,this.trackFinish(),this.trackLeave(),n.removeEventListener("message",this.boundHandles.processMessages),n.removeEventListener("beforeunload",this.boundHandles.trackLeave))))}},f.bindEvents=function(){this.boundHandles={},this.boundHandles.requestMessages=t.addEventListenerSafe(this.element,"ioVideoFrameIsReady",this.requestMessages.bind(this)),this.boundHandles.processMessages=t.addEventListenerSafe(n,"message",this.processMessages.bind(this)),this.boundHandles.trackLeave=t.addEventListenerSafe(n,"beforeunload",this.trackLeave.bind(this))},f.setId=function(){var e=t.decodeURIrecursively(this.element.src).match(/\/video\/(\d+)/);e&&(this.vimeoId=e.pop())},f.init=function(e){this.instantiateFrame(e),this.setId(),this.vimeoId&&(this.slices.type="vimeo",this.slices.image="i.vimeocdn.com/video/"+this.vimeoId+"_480.jpg",this.state={started:!1,finished:!1,viewed:!1},this.bindEvents(),this.prepareFrameElement())};var p=t.createObject(c);return p.prepare=function(){this.initializeStructure('iframe[src*="//player.vimeo.com/video"]',f)},p.start=function(){this.startTracking()},{GenericVideoInstance:a,HTML5VideoInstance:l,TrackerForHTML5Videos:d,TrackerForYoutubeVideos:h,TrackerForVimeoVideos:p,trackMetricsSentAsMessages:function(e){t.addEventListenerSafe(n,"message",function(o){if(o&&"object"==typeof o&&o.data&&o.source&&function(e){var t,n=i.getElementsByTagName("iframe");for(t=0;t<n.length;t++)if(n[t].contentWindow===e.source)return!0;return!1}(o)){var a=t.parseJSONSafe(o.data);a&&"object"==typeof a&&"ioMetricSent"===a.event&&a.info&&-1!==e.indexOf(a.info.name)&&r.bindOnPageDescriptorAppearance(n.location.href,function(e){var i,n=e.getSlices();for(i in a.info.slices)a.info.slices.hasOwnProperty(i)&&(n[i]=a.info.slices[i]);t.sendMetric(a.info.name,n)})}})},prepare:function(){this.TrackerForHTML5Videos.prepare(),this.TrackerForYoutubeVideos.prepare(),this.TrackerForVimeoVideos.prepare()},start:function(){this.TrackerForHTML5Videos.start(),this.TrackerForYoutubeVideos.start(),this.TrackerForVimeoVideos.start()},init:function(){this.prepare(),this.start(),this.trackMetricsSentAsMessages(["video_left","video_watch_finished","video_started","video_view"])}}}(e.helpers,document,window,e.configParser,e.defaults),void 0===e)e={};if(e.widgetLoader=function(e,t,i,n,r){var o={reload:function(){this.clearDOM(),this.insertIntoDOM(),n.bindOnPageDescriptorAppearance(e.location.href,function(e){_io_widget.configSlices=e.getSlices(),_io_widget.configArticleBlockUrl=e.data.page_url,_io_widget.start()}.bind(this))},clearDOM:function(){for(var e=t.querySelectorAll('div[data-io-id="_io_widget_element"], script[data-io-id="_io_widget_element"]'),i=0;i<e.length;i++)e[i].remove()},insertIntoDOM:function(){var e=t.createElement("div"),i=t.createElement("script");i.type="text/javascript",i.text=this.data.widget.js,e.style.position="static",i.id="_io_widget_element_div",i.dataset.ioId=e.dataset.ioId="_io_widget_element",e.innerHTML=this.data.widget.html,t.body.appendChild(e),t.body.appendChild(i)},startWidget:function(e){this.clearDOM(),this.insertIntoDOM(),_io_widget.configSlices=e.getSlices(),_io_widget.configArticleBlockUrl=e.data.page_url,_io_widget.start(this.data.widget.type,this.data.widget.overall)},load:function(i,n,o){e._io_widget={id:n,hash:i};var a=new XMLHttpRequest,s=-1==t.cookie.indexOf("_io_widget_debug")?"https://widget.onthe.io":"https://dev_widget.onthe.io",c={id:n,hash:i,title:t.title,force_type:"main_new",path:e.location.pathname+e.location.search};a.open("POST",s,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var i=JSON.parse(a.responseText);if(!i)return;this.data=i;var n=r.setIntervalSafe(e,function(){t.body&&(e.clearInterval(n),this.startWidget(o))}.bind(this),1e3)}}.bind(this);var l="";for(var d in c)l+=d+"="+encodeURIComponent(c[d])+"&";a.send(l)},init:function(){var o=(e.location.hash.match(/^#client-widget-([a-z0-9_]{32})$/i)||[]).pop(),a=(t.cookie.match(/_io_widget=([a-z0-9_]{32})/i)||[]).pop(),s=o||a;if(s){var c=new Date((new Date).setYear((new Date).getFullYear()+1)).toUTCString(),l=e.location.hostname.replace(/^www\./i,""),d=e.location.pathname;if(t.cookie="_io_widget="+s+"; expires="+c+"; domain="+l+"; path="+d,o){var u=e.location.protocol+"//"+e.location.hostname+e.location.pathname+e.location.search;history.pushState("",t.title,u)}n.bindOnPageDescriptorAppearance(e.location.href,function(e){this.load(s,i.projectId,e)}.bind(this)),r.bindOnUrlChange(this.reload.bind(this))}}};return o}(window,document,e.defaults,e.configParser,e.helpers),void 0===e)e={};if(e.instantArticlesTracker=function(e,t){var i={trackPageviews:function(){var i=t.parseURL(e.ia_document.shareURL);t.sendMetric("pageviews_instant",{url:i.pathname,domain:i.hostname,depth:1,referrer:"fb_ia",device:"smart (Other)",user_id:t.getUserId()})},trackTime:function(){t.setIntervalSafe(e,function(){t.sendMetric("time",{url:t.parseURL(e.ia_document.shareURL).pathname})},1e4)},init:function(){if(e.ia_document)return this.trackPageviews(),!0}};return i}(window,e.helpers),void 0===e)e={};if(e.ctrTracker=function(e,t,i){var n={listenForClicks:function(e,t,n,r){i.addEventListenerSafe(t,"click",function(){-1===n.indexOf(JSON.stringify(e.slices_object))&&(n.push(e.slices),-1!=r.indexOf(JSON.stringify(e.slices_object))&&i.sendMetric("io_block_click",e.slices_object))})},startTracking:function(){function n(e,t){for(var i=e.parentElement,n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),i=t.length;--i>=0&&t.item(i)!==this;);return i>-1};i;){if(n.call(i,t))return i;i=i.parentElement}return null}function r(r){var o=n(r,"[data-vr-zone]"),a=(n(r,"[data-section-name]"),n(r,"[data-vr-title]")),s=a?(a.getAttribute("data-vr-title")||"").replace(",","").trim():"";if(-1!==s.indexOf("????"))return!1;if(s||(s=r.textContent.replace(/\s+/g," ").trim().replace(",","").replace(":","").slice(0,60).trim()+"..."),"..."===s)return!1;var c={block_pos:r?(r.getAttribute("data-vr-contentbox")||"").trim():"",block_zon:o?(o.getAttribute("data-vr-zone")||"").trim():"",block_url:r.pathname,block_domain:r.hostname,block_global_pos:r.getAttribute("data-vr-global-position").trim(),block_title:s,url:e.location.pathname,page:t.title,domain:e.location.hostname,device:i.getDeviceName()};return{slices_object:c,zone:c.block_zon}}var o=t.querySelectorAll('[data-vr-zone] [data-vr-contentbox]:not([data-vr-contentbox=""]) a:not([href="#"]):not([href="/"]):not(.io-ignore), [data-vr-zone] a[data-vr-contentbox]:not([data-vr-contentbox=""]):not([href="#"]):not([href="/"]):not(.io-ignore), a[data-vr-zone][data-vr-contentbox]:not([data-vr-contentbox=""]):not([href="#"]):not([href="/"]):not(.io-ignore)');if(o){!function(e){var i;if(null===t.querySelector("[data-vr-global-position]"))for(i=0;i<e.length;i++)e[i].setAttribute("data-vr-global-position",i+1)}(o);var a,s,c,l,d=[],u=[],h=[],f=[],p=!1;for(a=0;a<o.length;a++)0!==(c=(s=o[a]).getBoundingClientRect().top)&&(l=r(s))&&(h.push({slices_object:l.slices_object,top:c-e.innerHeight,track_zon:l.zone}),this.listenForClicks(l,s,u,d));v();var g=location.pathname,m=i.setIntervalSafe(e,function(){g===location.pathname?v():clearInterval(m)},150)}function v(){for(var e in h)h[e].top<=-t.body.getBoundingClientRect().top&&(-1===d.indexOf(h[e].slices_object)&&(d.push(JSON.stringify(h[e].slices_object)),i.deferMetricToSendInBatch("io_block_view",h[e].slices_object)),-1===f.indexOf(h[e].track_zon)&&(f.push(h[e].track_zon),i.deferMetricToSendInBatch("io_block_view_sum",h[e].slices_object)),p||(p=!0,i.deferMetricToSendInBatch("io_block_view_all",h[e].slices_object)),delete h[e])}},init:function(){if(t.querySelectorAll("[data-vr-zone]").length)this.startTracking();else{var e=!1;i.bindOnElementInsertion("[data-vr-zone]",function(){e||(e=!0,this.startTracking())}.bind(this))}}};return n}(window,document,e.helpers),void 0===e)e={};if(e.onClickViewTracker=function(e,t,i,n){var r={bindOneElement:function(t){i.addEventListenerSafe(t,"click",function(){n.bindOnPageDescriptorAppearance(e.location.href,function(e){i.sendMetric("pageviews",e.getSlices())})})},bindExistingElemets:function(i){var n=t.querySelectorAll(i);n=e.Array.prototype.slice.call(n);for(var r=0;r<n.length;r++)this.bindOneElement(n[r])},listenForNewElements:function(e){i.bindOnElementInsertion(e,function(e){this.bindOneElement(e)}.bind(this))},init:function(){"undefined"!=typeof customCode_onClickViewSelector&&(this.bindExistingElemets(customCode_onClickViewSelector),this.listenForNewElements(customCode_onClickViewSelector))}};return r}(window,document,e.helpers,e.configParser),void 0===e)e={};if(e.subscriptionsTracker=function(e,t,i){var n={defaultBlockSelector:".io-subscription-block",defaultButtonsSelector:".io-subscription-button",alreadyViewed:!1,isScrolledIntoView:function(t){var i=t.getBoundingClientRect(),n=i.top,r=i.bottom;return n>=0&&r<=e.innerHeight},waitForSubscriptionBlockView:function(e){var i=document.querySelector(this.defaultBlockSelector);if(!i)return!1;n.isScrolledIntoView(i)&&!this.alreadyViewed&&(this.alreadyViewed=!0,t.sendMetric("subscription_button_view",e.getSlices()))},init:function(){i.bindOnPageDescriptorAppearance(e.location.href,function(e){t.addEventListenerSafe(document,"scroll",function(){n.waitForSubscriptionBlockView(e)}),t.bindOnElementInsertion(n.defaultButtonsSelector,function(i){t.addEventListenerSafe(i,"click",function(){t.sendMetric("subscription_button_click",e.getSlices());var i=e.getSlices().first_source?e.getSlices().first_source:e.getSlices().referrer,n=location.host.replace("www.","").replace("m.",""),r=new Date((new Date).setHours(720,0,0,0)).toUTCString();t.setCookie("__io_subscription_source",i,r,"/",n),t.setCookie("__io_subscription_url",e.getSlices().url,r,"/",n)})});var i=document.querySelectorAll(n.defaultButtonsSelector);if(0==i.length)return!1;for(var r=0;r<i.length;r++){var o=i[r];t.addEventListenerSafe(o,"click",function(){t.sendMetric("subscription_button_click",e.getSlices());var i=e.getSlices().first_source?e.getSlices().first_source:e.getSlices().referrer,n=location.host.replace("www.","").replace("m.",""),r=new Date((new Date).setHours(720,0,0,0)).toUTCString();t.setCookie("__io_subscription_source",i,r,"/",n),t.setCookie("__io_subscription_url",e.getSlices().url,r,"/",n)})}})}};return n}(window,e.helpers,e.configParser),void 0===e)e={};if(e.previousPageWatcher=function(e,t,i){var n={listenForConfigAndPageMatchOnce:function(){i.bindOnPageDescriptorAppearance(e.location.href,function(e){var i=e.getSlices();t.setPreviousURI(i.url)}.bind(this))},listenForPageChnages:function(){t.bindOnUrlChange(this.listenForConfigAndPageMatchOnce.bind(this))},init:function(){"object"!=typeof e.__io&&(e.__io={}),e.__io.isPreviousPageWatcherInitialized||(e.__io.isPreviousPageWatcherInitialized=!0,i?(this.listenForConfigAndPageMatchOnce(),this.listenForPageChnages()):(t.setPreviousURI(e.location.pathname),t.bindOnUrlChange(function(){t.setPreviousURI(e.location.pathname)})))}};return n}(window,e.helpers,e.configParser),e.doubleLoadingDetector.init())return;if(e.rawCodeLoader.init())return;if(e.instantArticlesTracker.init())return;e.helpers.loadComponentAsync(e.previousPageWatcher),e.helpers.loadComponentAsync(e.uniqueTracker),e.helpers.loadComponentAsync(e.holdingUniqueTracker),e.helpers.loadComponentAsync(e.visitTracker),e.helpers.loadComponentAsync(e.viewTracker),e.helpers.loadComponentAsync(e.readabilityTracker),e.helpers.loadComponentAsync(e.timeTracker),e.helpers.loadComponentAsync(e.videoTracker),e.helpers.loadComponentAsync(e.ctrTracker),e.helpers.loadComponentAsync(e.widgetLoader),e.helpers.loadComponentAsync(e.onClickViewTracker),e.helpers.loadComponentAsync(e.subscriptionsTracker)}catch(t){try{e.helpers.trackErrorMetric(t)}catch(e){}}}()}]);